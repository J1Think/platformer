namespace SpriteKind {
    export const enmey2 = SpriteKind.create()
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile0`, function (sprite, location) {
    tiles.setTileAt(location, assets.tile`myTile`)
    tiles.setWallAt(location, true)
    info.changeScoreBy(1)
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (fire_ball) {
        projectile = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . . 2 2 . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.Projectile)
        projectile.setPosition(mySprite.x, mySprite.y)
        projectile.vx = 100
        projectile.ay = 100
        projectile.lifespan = 1600
        projectile.setBounceOnWall(true)
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile22`, function (sprite, location) {
    info.changeLifeBy(1)
    tiles.setTileAt(location, assets.tile`myTile19`)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (jumpcount < 1) {
        mySprite.vy = -141
        jumpcount += 1
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile7`, function (sprite, location) {
    info.startCountdown(60)
    tiles.setTilemap(tilemap`level5`)
    mySprite.setPosition(4, 280)
    game.splash("Level 2")
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile4`, function (sprite, location) {
    tiles.setTilemap(tilemap`level5`)
    mySprite.setPosition(4, 280)
    game.splash("Level 2")
    info.startCountdown(60)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile18`, function (sprite, location) {
    info.changeLifeBy(-2)
    game.over(false)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile21`, function (sprite, location) {
    tiles.setTileAt(location, assets.tile`myTile`)
    tiles.setWallAt(location, true)
    if (info.life() < 2) {
        tiles.setTileAt(tiles.getTileLocation(6, 13), assets.tile`myTile22`)
    } else {
        tiles.setTileAt(tiles.getTileLocation(6, 13), assets.tile`myTile26`)
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile16`, function (sprite, location) {
    tiles.setTilemap(tilemap`level15`)
    mySprite.setPosition(4, 280)
    game.splash("Bowser Castle, Level 4")
    bowser = sprites.create(img`
        ......................................
        ......................................
        ......................................
        ......................................
        .............22.......................
        ...........242.2222...................
        .........12442222.....................
        ........11144122222...................
        ..1...bb1111111122....................
        .1f1.bbf111111112.....................
        .11115ff111111111b....................
        .11111f1111111111bb...................
        .111111111111111bbb...................
        .111111111f11111bbfff1................
        ..1.1111fff111b1bbf21142..............
        ..1.11f1ff1111b1bb2441442411..........
        .....1...f1111bbbb2f444f2414..........
        .........11111bbbff2fff22f4421........
        .........1111bbbff2f222ff2ff24........
        .......111111bbbf2ff2f411f222f........
        ........11..11bbbbbb2f414f2f411.......
        .............bb1111bb2f4422f414.......
        ..........111..b2111bb2ff2f2f44.......
        .........11b21112b11dbf22fff2ff1......
        .........1122111122ddbf2f411f2241.....
        .........1b2111111dffbb2f414f2f.......
        .........12211111ffddbbf2f442f41......
        ..........b211111ddddbbff2ff2f411.....
        ...........2b111.ddfffbfff241f44......
        .................ffdddbbf2f42f4f......
        ..................dddffbbb2f22f2......
        ...................ffdddbbbbbf2f......
        ...................dddddddbbbbbbb.b...
        ...................111dd1111bbbbb11.b.
        ..................bb1111111111bbf11f1.
        .................bbb11bb11bb111..11f11
        ....................1bbb1bbb1111......
        ......................................
        ......................................
        ......................................
        `, SpriteKind.Enemy)
    bowser.setBounceOnWall(true)
    tiles.placeOnTile(bowser, tiles.getTileLocation(93, 15))
    bowser.vx = 50
    bowser.ay += 700
    info.startCountdown(60)
    skeleton_troopa = sprites.create(img`
        ...f............
        ..fff...........
        ..fffd..........
        .d5ffdd.........
        .d5ffdd.........
        .d5ffdd.........
        .dfffdd.........
        dddfddd.........
        deddddd.........
        ddd.dd..bbbbb...
        dd..dd.bfbbbfb..
        dd.ddd.bbfbfbbb.
        dd.dd1bbbbfb11b.
        .d.dd1bbbfbfb1b.
        ...dd1fbfbbbfbf.
        ..dd11bfbbbbbfb.
        ...d1bfbfbbbfbf.
        ...d1fbbbfbfbbb.
        ....1bbbbbfbbbb.
        ....11bbbfbfb111
        ...dd111fbb111..
        ..ddddd11111ddd.
        .ddddd......dddd
        `, SpriteKind.Enemy)
    skeleton_troopa.vx = 50
    tiles.placeOnTile(skeleton_troopa, tiles.getTileLocation(10, 17))
    skeleton_troopa.setBounceOnWall(true)
    skeleton_troopa_2 = sprites.create(img`
        ...f............
        ..fff...........
        ..fffd..........
        .d5ffdd.........
        .d5ffdd.........
        .d5ffdd.........
        .dfffdd.........
        dddfddd.........
        deddddd.........
        ddd.dd..bbbbb...
        dd..dd.bfbbbfb..
        dd.ddd.bbfbfbbb.
        dd.dd1bbbbfb11b.
        .d.dd1bbbfbfb1b.
        ...dd1fbfbbbfbf.
        ..dd11bfbbbbbfb.
        ...d1bfbfbbbfbf.
        ...d1fbbbfbfbbb.
        ....1bbbbbfbbbb.
        ....11bbbfbfb111
        ...dd111fbb111..
        ..ddddd11111ddd.
        .ddddd......dddd
        `, SpriteKind.Enemy)
    skeleton_troopa_2.vx = 50
    tiles.placeOnTile(skeleton_troopa_2, tiles.getTileLocation(22, 17))
    skeleton_troopa_2.setBounceOnWall(true)
    koopa_troopa.destroy()
    koopa_troopa_2.destroy()
    goomba.destroy()
    goomba2.destroy()
    SKELOTEN_TROOPA_3 = sprites.create(img`
        ...f............
        ..fff...........
        ..fffd..........
        .d5ffdd.........
        .d5ffdd.........
        .d5ffdd.........
        .dfffdd.........
        dddfddd.........
        deddddd.........
        ddd.dd..bbbbb...
        dd..dd.bfbbbfb..
        dd.ddd.bbfbfbbb.
        dd.dd1bbbbfb11b.
        .d.dd1bbbfbfb1b.
        ...dd1fbfbbbfbf.
        ..dd11bfbbbbbfb.
        ...d1bfbfbbbfbf.
        ...d1fbbbfbfbbb.
        ....1bbbbbfbbbb.
        ....11bbbfbfb111
        ...dd111fbb111..
        ..ddddd11111ddd.
        .ddddd......dddd
        `, SpriteKind.Enemy)
    SKELOTEN_TROOPA_3.vx = 50
    tiles.placeOnTile(SKELOTEN_TROOPA_3, tiles.getTileLocation(38, 17))
    SKELOTEN_TROOPA_3.setBounceOnWall(true)
    KOOPA_TROOPA_4 = sprites.create(img`
        ...f............
        ..fff...........
        ..fffd..........
        .d5ffdd.........
        .d5ffdd.........
        .d5ffdd.........
        .dfffdd.........
        dddfddd.........
        deddddd.........
        ddd.dd..bbbbb...
        dd..dd.bfbbbfb..
        dd.ddd.bbfbfbbb.
        dd.dd1bbbbfb11b.
        .d.dd1bbbfbfb1b.
        ...dd1fbfbbbfbf.
        ..dd11bfbbbbbfb.
        ...d1bfbfbbbfbf.
        ...d1fbbbfbfbbb.
        ....1bbbbbfbbbb.
        ....11bbbfbfb111
        ...dd111fbb111..
        ..ddddd11111ddd.
        .ddddd......dddd
        `, SpriteKind.Enemy)
    KOOPA_TROOPA_4.vx = 50
    tiles.placeOnTile(KOOPA_TROOPA_4, tiles.getTileLocation(44, 17))
    KOOPA_TROOPA_4.setBounceOnWall(true)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile20`, function (sprite, location) {
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    tiles.setTilemap(tilemap`level23`)
    game.splash("Level 4")
    info.startCountdown(60)
    bowser.destroy()
    mySprite.setPosition(0, 17)
    koopa_troopa2 = sprites.create(img`
        ...1............
        ..111...........
        ..1114..........
        .421144.........
        .421144.........
        .421144.........
        .411144.........
        4441444.........
        4e44444.........
        444.44..22222...
        44..44.2422242..
        44.444.22424222.
        44.441222242112.
        .4.441222424212.
        ...441424222424.
        ..4411242222242.
        ...412424222424.
        ...414222424222.
        ....12222242222.
        ....112224242111
        ...44111422111..
        ..4444411111444.
        .44444......4444
        `, SpriteKind.Enemy)
    koopa_troopa2.setBounceOnWall(true)
    tiles.placeOnTile(koopa_troopa2, tiles.getTileLocation(38, 6))
    koopa_troopa2.vx = 50
    koopa_troopa_5 = sprites.create(img`
        ...1............
        ..111...........
        ..1114..........
        .421144.........
        .421144.........
        .421144.........
        .411144.........
        4441444.........
        4e44444.........
        444.44..22222...
        44..44.2422242..
        44.444.22424222.
        44.441222242112.
        .4.441222424212.
        ...441424222424.
        ..4411242222242.
        ...412424222424.
        ...414222424222.
        ....12222242222.
        ....112224242111
        ...44111422111..
        ..4444411111444.
        .44444......4444
        `, SpriteKind.Enemy)
    koopa_troopa_5.setBounceOnWall(true)
    tiles.placeOnTile(koopa_troopa_5, tiles.getTileLocation(53, 9))
    koopa_troopa_5.vx = 50
    koopa_troopa_6 = sprites.create(img`
        ...1............
        ..111...........
        ..1114..........
        .421144.........
        .421144.........
        .421144.........
        .411144.........
        4441444.........
        4e44444.........
        444.44..22222...
        44..44.2422242..
        44.444.22424222.
        44.441222242112.
        .4.441222424212.
        ...441424222424.
        ..4411242222242.
        ...412424222424.
        ...414222424222.
        ....12222242222.
        ....112224242111
        ...44111422111..
        ..4444411111444.
        .44444......4444
        `, SpriteKind.Enemy)
    koopa_troopa_6.setBounceOnWall(true)
    tiles.placeOnTile(koopa_troopa_6, tiles.getTileLocation(72, 6))
    koopa_troopa_6.vx = 50
    skeleton_troopa.destroy()
    skeleton_troopa_2.destroy()
    KOOPA_TROOPA_4.destroy()
    SKELOTEN_TROOPA_3.destroy()
})
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    mySprite.vy = 100
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile5`, function (sprite, location) {
    tiles.setTilemap(tilemap`level5`)
    mySprite.setPosition(4, 280)
    game.splash("Level 2")
    info.startCountdown(60)
})
info.onLifeZero(function () {
    mySprite.destroy(effects.disintegrate, 500)
    game.over(false)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile10`, function (sprite, location) {
    tiles.setTilemap(tilemap`level5`)
    mySprite.setPosition(4, 280)
    game.splash("Level 2")
    info.startCountdown(60)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile31`, function (sprite, location) {
    game.over(true)
})
sprites.onOverlap(SpriteKind.Projectile, SpriteKind.Enemy, function (sprite, otherSprite) {
    otherSprite.destroy(effects.disintegrate, 500)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile23`, function (sprite, location) {
    tiles.setTilemap(tilemap`level28`)
    mySprite.setPosition(1, 17)
    info.startCountdown(60)
    koopa_troopa2.destroy()
    koopa_troopa_5.destroy()
    koopa_troopa_6.destroy()
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile14`, function (sprite, location) {
    koopa_troopa.destroy()
    koopa_troopa_2.destroy()
    goomba.destroy()
    goomba2.destroy()
    tiles.setTilemap(tilemap`level15`)
    mySprite.setPosition(4, 280)
    game.splash("Skeleton Bowser, Level 4")
    bowser = sprites.create(img`
        ......................................
        ......................................
        ......................................
        ......................................
        .............22.......................
        ...........242.2222...................
        .........12442222.....................
        ........11144122222...................
        ..1...bb1111111122....................
        .1f1.bbf111111112.....................
        .11115ff111111111b....................
        .11111f1111111111bb...................
        .111111111111111bbb...................
        .111111111f11111bbfff1................
        ..1.1111fff111b1bbf21142..............
        ..1.11f1ff1111b1bb2441442411..........
        .....1...f1111bbbb2f444f2414..........
        .........11111bbbff2fff22f4421........
        .........1111bbbff2f222ff2ff24........
        .......111111bbbf2ff2f411f222f........
        ........11..11bbbbbb2f414f2f411.......
        .............bb1111bb2f4422f414.......
        ..........111..b2111bb2ff2f2f44.......
        .........11b21112b11dbf22fff2ff1......
        .........1122111122ddbf2f411f2241.....
        .........1b2111111dffbb2f414f2f.......
        .........12211111ffddbbf2f442f41......
        ..........b211111ddddbbff2ff2f411.....
        ...........2b111.ddfffbfff241f44......
        .................ffdddbbf2f42f4f......
        ..................dddffbbb2f22f2......
        ...................ffdddbbbbbf2f......
        ...................dddddddbbbbbbb.b...
        ...................111dd1111bbbbb11.b.
        ..................bb1111111111bbf11f1.
        .................bbb11bb11bb111..11f11
        ....................1bbb1bbb1111......
        ......................................
        ......................................
        ......................................
        `, SpriteKind.Enemy)
    bowser.setBounceOnWall(true)
    tiles.placeOnTile(bowser, tiles.getTileLocation(93, 15))
    bowser.vx = 50
    bowser.ay += 700
    info.startCountdown(60)
    skeleton_troopa = sprites.create(img`
        ...f............
        ..fff...........
        ..fffd..........
        .d5ffdd.........
        .d5ffdd.........
        .d5ffdd.........
        .dfffdd.........
        dddfddd.........
        deddddd.........
        ddd.dd..bbbbb...
        dd..dd.bfbbbfb..
        dd.ddd.bbfbfbbb.
        dd.dd1bbbbfb11b.
        .d.dd1bbbfbfb1b.
        ...dd1fbfbbbfbf.
        ..dd11bfbbbbbfb.
        ...d1bfbfbbbfbf.
        ...d1fbbbfbfbbb.
        ....1bbbbbfbbbb.
        ....11bbbfbfb111
        ...dd111fbb111..
        ..ddddd11111ddd.
        .ddddd......dddd
        `, SpriteKind.Enemy)
    skeleton_troopa.vx = 50
    tiles.placeOnTile(skeleton_troopa, tiles.getTileLocation(10, 17))
    skeleton_troopa.setBounceOnWall(true)
    skeleton_troopa_2 = sprites.create(img`
        ...f............
        ..fff...........
        ..fffd..........
        .d5ffdd.........
        .d5ffdd.........
        .d5ffdd.........
        .dfffdd.........
        dddfddd.........
        deddddd.........
        ddd.dd..bbbbb...
        dd..dd.bfbbbfb..
        dd.ddd.bbfbfbbb.
        dd.dd1bbbbfb11b.
        .d.dd1bbbfbfb1b.
        ...dd1fbfbbbfbf.
        ..dd11bfbbbbbfb.
        ...d1bfbfbbbfbf.
        ...d1fbbbfbfbbb.
        ....1bbbbbfbbbb.
        ....11bbbfbfb111
        ...dd111fbb111..
        ..ddddd11111ddd.
        .ddddd......dddd
        `, SpriteKind.Enemy)
    skeleton_troopa_2.vx = 50
    tiles.placeOnTile(skeleton_troopa_2, tiles.getTileLocation(22, 17))
    skeleton_troopa_2.setBounceOnWall(true)
    SKELOTEN_TROOPA_3 = sprites.create(img`
        ...f............
        ..fff...........
        ..fffd..........
        .d5ffdd.........
        .d5ffdd.........
        .d5ffdd.........
        .dfffdd.........
        dddfddd.........
        deddddd.........
        ddd.dd..bbbbb...
        dd..dd.bfbbbfb..
        dd.ddd.bbfbfbbb.
        dd.dd1bbbbfb11b.
        .d.dd1bbbfbfb1b.
        ...dd1fbfbbbfbf.
        ..dd11bfbbbbbfb.
        ...d1bfbfbbbfbf.
        ...d1fbbbfbfbbb.
        ....1bbbbbfbbbb.
        ....11bbbfbfb111
        ...dd111fbb111..
        ..ddddd11111ddd.
        .ddddd......dddd
        `, SpriteKind.Enemy)
    SKELOTEN_TROOPA_3.vx = 50
    tiles.placeOnTile(SKELOTEN_TROOPA_3, tiles.getTileLocation(38, 17))
    SKELOTEN_TROOPA_3.setBounceOnWall(true)
    KOOPA_TROOPA_4 = sprites.create(img`
        ...f............
        ..fff...........
        ..fffd..........
        .d5ffdd.........
        .d5ffdd.........
        .d5ffdd.........
        .dfffdd.........
        dddfddd.........
        deddddd.........
        ddd.dd..bbbbb...
        dd..dd.bfbbbfb..
        dd.ddd.bbfbfbbb.
        dd.dd1bbbbfb11b.
        .d.dd1bbbfbfb1b.
        ...dd1fbfbbbfbf.
        ..dd11bfbbbbbfb.
        ...d1bfbfbbbfbf.
        ...d1fbbbfbfbbb.
        ....1bbbbbfbbbb.
        ....11bbbfbfb111
        ...dd111fbb111..
        ..ddddd11111ddd.
        .ddddd......dddd
        `, SpriteKind.Enemy)
    KOOPA_TROOPA_4.vx = 50
    tiles.placeOnTile(KOOPA_TROOPA_4, tiles.getTileLocation(44, 17))
    KOOPA_TROOPA_4.setBounceOnWall(true)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile11`, function (sprite, location) {
    info.changeLifeBy(-2)
    game.over(false)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile30`, function (sprite, location) {
    game.over(true)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile26`, function (sprite, location) {
    fire_ball = true
    info.changeLifeBy(1)
    tiles.setTileAt(location, assets.tile`myTile19`)
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile28`, function (sprite, location) {
    tiles.setTileAt(location, assets.tile`myTile`)
    tiles.setWallAt(location, true)
    if (info.life() < 2) {
        tiles.setTileAt(tiles.getTileLocation(38, 13), assets.tile`myTile22`)
    } else {
        tiles.setTileAt(tiles.getTileLocation(38, 13), assets.tile`myTile26`)
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    if (mySprite.vy > 0) {
        otherSprite.destroy(effects.disintegrate, 500)
        info.changeScoreBy(1)
    } else {
        info.changeLifeBy(-1)
        pause(1000)
        fire_ball = false
    }
})
let koopa_troopa_6: Sprite = null
let koopa_troopa_5: Sprite = null
let koopa_troopa2: Sprite = null
let KOOPA_TROOPA_4: Sprite = null
let SKELOTEN_TROOPA_3: Sprite = null
let skeleton_troopa_2: Sprite = null
let skeleton_troopa: Sprite = null
let bowser: Sprite = null
let projectile: Sprite = null
let fire_ball = false
let goomba2: Sprite = null
let goomba: Sprite = null
let koopa_troopa: Sprite = null
let koopa_troopa_2: Sprite = null
let mySprite: Sprite = null
let jumpcount = 0
game.splash("Super Mario Bros")
jumpcount = 0
mySprite = sprites.create(img`
    ..................
    ......22222.......
    .....222222222....
    .....eeeddfd......
    ....ededddfddd....
    ....edeedddeddd...
    ....eeddddeeee....
    ......ddddddd.....
    .....22822822.....
    ....2228228222....
    ...222288882222...
    ...dd28588582dd...
    ...ddd888888ddd...
    ...dd88888888dd...
    .....888..888.....
    ....eee....eee....
    ...eeee....eeee...
    ..................
    `, SpriteKind.Player)
scene.setBackgroundColor(9)
tiles.setTilemap(tilemap`level3`)
koopa_troopa_2 = sprites.create(img`
    ...1............
    ..111...........
    ..1115..........
    .571155.........
    .571155.........
    .571155.........
    .511155.........
    5551555.........
    5e55555.........
    555.55..77777...
    55..55.7f777f7..
    55.555.77f7f777.
    55.5517777f7117.
    .5.551777f7f717.
    ...551f7f777f7f.
    ..55117f77777f7.
    ...517f7f777f7f.
    ...51f777f7f777.
    ....177777f7777.
    ....11777f7f7111
    ...77111f77111..
    ..7777711111777.
    .77777......7777
    `, SpriteKind.Enemy)
koopa_troopa = sprites.create(img`
    ...1............
    ..111...........
    ..1115..........
    .571155.........
    .571155.........
    .571155.........
    .511155.........
    5551555.........
    5e55555.........
    555.55..77777...
    55..55.7f777f7..
    55.555.77f7f777.
    55.5517777f7117.
    .5.551777f7f717.
    ...551f7f777f7f.
    ..55117f77777f7.
    ...517f7f777f7f.
    ...51f777f7f777.
    ....177777f7777.
    ....11777f7f7111
    ...77111f77111..
    ..7777711111777.
    .77777......7777
    `, SpriteKind.Enemy)
goomba = sprites.create(img`
    . . . . . . 4 4 4 4 . . . . . . 
    . . . . . 4 4 4 4 4 4 . . . . . 
    . . . . 4 4 4 4 4 4 4 4 . . . . 
    . . . 4 4 4 4 4 4 4 4 4 4 . . . 
    . . 4 f f 4 4 4 4 4 4 f f 4 . . 
    . 4 4 4 d f 4 4 4 4 f d 4 4 4 . 
    . 4 4 4 d f f f f f f d 4 4 4 . 
    4 4 4 4 d f d 4 4 d f d 4 4 4 4 
    4 4 4 4 d d d 4 4 d d d 4 4 4 4 
    4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 
    . 4 4 4 4 d d d d d d 4 4 4 4 . 
    . . . . d d d d d d d d . . . . 
    . . . . d d d d d d d d f f . . 
    . . . f f d d d d d f f f f f . 
    . . . f f f d d d f f f f f f . 
    . . . . f f f d . f f f f f . . 
    `, SpriteKind.Enemy)
goomba2 = sprites.create(img`
    . . . . . . 4 4 4 4 . . . . . . 
    . . . . . 4 4 4 4 4 4 . . . . . 
    . . . . 4 4 4 4 4 4 4 4 . . . . 
    . . . 4 4 4 4 4 4 4 4 4 4 . . . 
    . . 4 f f 4 4 4 4 4 4 f f 4 . . 
    . 4 4 4 d f 4 4 4 4 f d 4 4 4 . 
    . 4 4 4 d f f f f f f d 4 4 4 . 
    4 4 4 4 d f d 4 4 d f d 4 4 4 4 
    4 4 4 4 d d d 4 4 d d d 4 4 4 4 
    4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 
    . 4 4 4 4 d d d d d d 4 4 4 4 . 
    . . . . d d d d d d d d . . . . 
    . . . . d d d d d d d d f f . . 
    . . . f f d d d d d f f f f f . 
    . . . f f f d d d f f f f f f . 
    . . . . f f f d . f f f f f . . 
    `, SpriteKind.Enemy)
tiles.placeOnTile(goomba, tiles.getTileLocation(18, 17))
tiles.placeOnTile(goomba2, tiles.getTileLocation(7, 17))
tiles.placeOnTile(koopa_troopa, tiles.getTileLocation(37, 17))
tiles.placeOnTile(koopa_troopa_2, tiles.getTileLocation(40, 17))
scene.cameraFollowSprite(mySprite)
goomba.vx = 50
goomba2.vx = -50
koopa_troopa.vx = 50
koopa_troopa_2.vx = 50
mySprite.setStayInScreen(true)
goomba.setBounceOnWall(true)
goomba2.setBounceOnWall(true)
koopa_troopa.setBounceOnWall(true)
koopa_troopa_2.setBounceOnWall(true)
mySprite.setPosition(4, 280)
mySprite.ay += 200
controller.moveSprite(mySprite, 100, 0)
info.setLife(1)
info.setScore(0)
info.startCountdown(60)
game.splash("Level 1")
fire_ball = false
forever(function () {
    if (mySprite.isHittingTile(CollisionDirection.Bottom)) {
        jumpcount = 0
    }
})
forever(function () {
    if (info.life() < 2) {
        mySprite.setImage(img`
            ..................
            ......22222.......
            .....222222222....
            .....eeeddfd......
            ....ededddfddd....
            ....edeedddeddd...
            ....eeddddeeee....
            ......ddddddd.....
            .....22822822.....
            ....2228228222....
            ...222288882222...
            ...dd28588582dd...
            ...ddd888888ddd...
            ...dd88888888dd...
            .....888..888.....
            ....eee....eee....
            ...eeee....eeee...
            ..................
            `)
    } else if (info.life() < 3) {
        mySprite.setImage(img`
            ..................
            ......22221.......
            .....222222222....
            .....eeeddfd......
            ....ededddfddd....
            ....edeedddeddd...
            ....eeddddeeee....
            ......ddddddd.....
            .....22822822.....
            ....2228228222....
            ...222288882222...
            ...112858858211...
            ...111888888111...
            ...118888888811...
            .....888..888.....
            ....eee....eee....
            ...eeee....eeee...
            ..................
            `)
    } else if (info.life() < 4) {
        mySprite.setImage(img`
            ..................
            ......11112.......
            .....111111111....
            .....eeeddfd......
            ....ededddfddd....
            ....edeedddeddd...
            ....eeddddeeee....
            ......ddddddd.....
            .....11211211.....
            ....1112112111....
            ...bb11222211bb...
            ...11b252252b11...
            ...111222222111...
            ...112222222211...
            .....222..222.....
            ....eee....eee....
            ...eeee....eeee...
            ..................
            `)
    }
})
